(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/jvW":function(t,e){t.exports=""},"9wbs":function(t,e){t.exports=""},"Bh2/":function(t,e){t.exports=""},D4YO:function(t,e){t.exports='<span [innerHtml]="bibEntry$ | async | bibFormat"></span>\n'},NqgJ:function(t,e){t.exports='\x3c!-- content: bibliography list --\x3e\n<ul class="bibliography">\n    <li\n        *ngFor="let bibItem of bibList; trackBy: trackById"\n        [class.selected]="bibItem === selectedBibItem"\n        (click)="onItemSelect(bibItem)"\n    >\n        <span class="badge">{{ bibItem.value[0] }}</span>\n        <awg-bibliography-detail *ngIf="bibItem.obj_id === selectedBibItem.obj_id" [objId]="bibItem.obj_id">\n        </awg-bibliography-detail>\n    </li>\n</ul>\n'},"dv/R":function(t,e){t.exports="<p>\n  bibliography-search works!\n</p>\n"},gsdo:function(t,e){t.exports='\x3c!-- content: bibliography --\x3e\n<awg-bibliography-search></awg-bibliography-search>\n\n<p>Lade ... {{ (bibList$ | async)?.subjects.length }} von {{ nhits }} Eintr\xe4gen</p>\n\n<awg-bibliography-list\n    *ngIf="isBibListLoaded && (bibList$ | async) as bibList"\n    [bibList]="bibList.subjects"\n    (selectItemRequest)="onItemSelect($event)"\n>\n</awg-bibliography-list>\n'},iCE9:function(t,e,i){"use strict";i.r(e);var r=i("mrSG"),n=i("CcnG"),o=i("PCNd"),s=function(){function t(){}return t=r.b([Object(n.Component)({selector:"awg-bibliography-search",template:i("dv/R"),styles:[i("Bh2/")]})],t)}(),a=i("W28f"),b=function(){function t(){this.selectItemRequest=new n.EventEmitter,this.selectedBibItem=new a.i}return t.prototype.ngOnInit=function(){},t.prototype.onItemSelect=function(t){this.selectedBibItem=t,this.selectItemRequest.emit(t)},t.prototype.trackById=function(t){return t.obj_id},r.b([Object(n.Input)(),r.d("design:type",Array)],t.prototype,"bibList",void 0),r.b([Object(n.Output)(),r.d("design:type",n.EventEmitter)],t.prototype,"selectItemRequest",void 0),t=r.b([Object(n.Component)({selector:"awg-bibliography-list",template:i("NqgJ"),styles:[i("/jvW")]})],t)}(),l=function(){function t(){this.formatFieldArr=["Author","Titel_unselbst","Titel_selbst","Herausgeber","unpubliziert","Verlagsort","Publikationsdatum","Reihentitel","Seitenangabe"]}return t.prototype.transform=function(t){return t?(this.entry=t,this.formattedEntry=this.getFormatFields("edit",this.entry),this.getFormattedValues(this.formattedEntry),this.getFormatFields("output",this.formattedEntry)):null},t.prototype.getFormatFields=function(t,e){for(var i={},r=0;r<this.formatFieldArr.length;r++)e[this.formatFieldArr[r]]&&("edit"===t?i[this.formatFieldArr[r]]=e[this.formatFieldArr[r]]:"output"===t&&(i=0===r?e[this.formatFieldArr[r]]:i+e[this.formatFieldArr[r]]));return i},t.prototype.getFormattedValues=function(t){var e=this;return Object.keys(t).forEach(function(i){t[i]=e.getFormattedValueByKey(t,i)}),t},t.prototype.getFormattedValueByKey=function(t,e){var i="";switch(e){case"Kurztitel":i=this.formatBibTitleShort(t[e]);break;case"Author":i=this.formatBibAuthor(t[e]);break;case"Titel_selbst":i=this.formatBibTitleIndep(t[e]);break;case"Titel_unselbst":i=this.formatBibTitleDep(t[e]);break;case"Herausgeber":i=this.formatBibEditor(t[e]);break;case"unpubliziert":i=this.formatBibUnpublished(t[e]);break;case"Verlagsort":i=this.formatBibPubPlace(t[e]);break;case"Publikationsdatum":i=this.formatBibPubDate(t[e]);break;case"Reihentitel":i=this.formatBibTitleSeries(t[e]);break;case"Seitenangabe":i=this.formatBibPages(t[e]);break;default:i=t[e]}return i},t.prototype.formatBibTitleShort=function(t){return t?t+" | ":""},t.prototype.formatBibAuthor=function(t){if(!t)return"";var e="";if("object"==typeof t){e+=this.splitName(t[0],"");for(var i=Object.keys(t).length,r=1;r<i;r++){var n=r===i-1?" und ":", ";e+=this.splitName(t[r],n)}}else"string"==typeof t&&(e+=this.splitName(t,""));return e+=": "},t.prototype.formatBibTitleIndep=function(t){return t?"Zeitschriftenartikel"!==this.entry.Typ?t+", ":t:""},t.prototype.formatBibTitleDep=function(t){return t?"\u201e"+t+"\u201c, in: ":""},t.prototype.formatBibEditor=function(t){if(!t)return"";var e="hg. von ";if("object"==typeof t){e+=this.splitName(t[0],"");for(var i=Object.keys(t).length,r=1;r<i;r++){var n=r===i-1?" und ":", ";e+=this.splitName(t[r],n)}}else"string"==typeof t&&(e+=this.splitName(t,""));return e+=", "},t.prototype.formatBibUnpublished=function(t){return t?t+" ":""},t.prototype.formatBibPubPlace=function(t){var e=this.entry.Verlag?this.entry.Verlag:null;if(!t)return e&&console.log('Ort fehlt: "'+e+'" ('+this.entry.Kurztitel+")"),"";var i="";if("object"==typeof t){var r=Object.keys(t).length;if(e){if("object"==typeof e){if((o=Object.keys(e).length)===r)for(var n=0;n<r;n++)n===r-1&&(i+="und "),i+=t[n]+": "+e[n]+", "}else for(n=0;n<r;n++)i+=n===r-1?t[n]+": "+e+", ":t[n]+", "}else{for(n=0;n<r;n++)i+=t[n]+", ";this.entry.unpubliziert||console.log('Verlag fehlt: "'+i+'" ('+this.entry.Kurztitel+")")}}else if(e)if(i+=t+": ","object"==typeof e){var o=Object.keys(e).length;for(n=0;n<o;n++)i+=e[n]+", "}else i+=e+", ";else this.entry.unpubliziert||console.log('Verlag fehlt: "'+i+'" ('+this.entry.Kurztitel+")"),i+=t+", ";return i},t.prototype.formatBibPublisher=function(t){return""},t.prototype.formatBibPubDate=function(t){return"Zeitschriftenartikel"===this.entry.Typ?" ("+t+")":" "+t},t.prototype.formatBibTitleSeries=function(t){return t?" ("+t+")":""},t.prototype.formatBibPages=function(t){if(!t)return"";var e="";if("object"==typeof t)for(var i=Object.keys(t).length,r=0;r<i;r++){e+=(0===r?", S. ":", ")+t[r]}else"string"==typeof t&&t&&(e=", S. "+t);return e},t.prototype.splitName=function(t,e){var i=[];return t.match(",")?((i=t.split(", ")).splice(1,0,i.splice(0,1)[0]),e+i[0]+" "+i[1]):e+t},t=r.b([Object(n.Pipe)({name:"bibFormat"})],t)}(),p=i("ZYCi"),c=i("RJwY"),u=i("xMyE"),f=function(){function t(t){this.bibliographyService=t,this.isBibListLoaded=!1}return t.prototype.ngOnInit=function(){this.getBibList()},t.prototype.getBibList=function(){var t=this;this.bibList$=this.bibliographyService.getBibliographyList().pipe(Object(u.a)(function(e){t.nhits=e.nhits,t.isBibListLoaded=!0}))},t.prototype.onItemSelect=function(t){this.selectedBibItem=t},t.ctorParameters=function(){return[{type:c.a}]},t=r.b([Object(n.Component)({selector:"awg-bibliography",template:i("gsdo"),styles:[i("royv")]}),r.d("design:paramtypes",[c.a])],t)}(),h=i("67Y/"),y=i("dJ3e"),m=function(){function t(t,e){this.bibliographyService=t,this.conversionService=e}return t.prototype.ngOnInit=function(){this.getBibEntry(this.objId)},t.prototype.getBibEntry=function(t){var e=this;this.bibEntry$=this.bibliographyService.getBibliographyItemDetail(t).pipe(Object(h.a)(function(t){return e.conversionService.convertObjectProperties(t)}))},t.ctorParameters=function(){return[{type:c.a},{type:y.b}]},r.b([Object(n.Input)(),r.d("design:type",String)],t.prototype,"objId",void 0),t=r.b([Object(n.Component)({selector:"awg-bibliography-detail",template:i("D4YO"),styles:[i("9wbs")]}),r.d("design:paramtypes",[c.a,y.b])],t)}(),g=[{path:"",component:f,children:[{path:"detail/:id",component:m}]}],d=[f,m],v=function(){function t(){}return t=r.b([Object(n.NgModule)({imports:[p.e.forChild(g)],exports:[p.e]})],t)}();i.d(e,"BibliographyModule",function(){return B});var B=function(){function t(){}return t=r.b([Object(n.NgModule)({imports:[o.a,v],declarations:[d,s,b,l],exports:[d,s,b,l]})],t)}()},royv:function(t,e){t.exports=""}}]);