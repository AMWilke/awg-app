<!-- content: search panel -->

<!-- loading spinner
<ng4-loading-spinner></ng4-loading-spinner>
-->

<!--
  [ => TODO: paging]
-->

<awg-search-form
    [(searchValue)]="searchValue"
    (submitRequest)="onSubmit($event)">
</awg-search-form>


<ng-container *ngIf="searchValue">
    <awg-search-result-list *ngIf="!isLoadingData; else loading"
                            [searchUrl]="searchUrl">
    </awg-search-result-list>

    <ng-template #loading>
        <ng-container *ngIf="!errorMessage; else error">
            <div>Loading …</div>
        </ng-container>
    </ng-template>
</ng-container>


<ng-template #error>
    <div class="errorMessage" *ngIf="errorMessage">
        <p>Die Anfrage "{{ errorMessage?.route }}" ist fehlgeschlagen.</p>
        <p>Fehlermeldung: "{{ errorMessage?.statusText }}".</p>
        <p>Möglicherweise gab es ein Problem mit der Internetverbindung oder dem verwendeten Suchbegriff.</p>
    </div>
</ng-template>
