<div class="col-md-3 sidenav sidenav-left text-center">
    <p class="todo">TODO: resource-info.component.html</p>
    <p class="todo">TODO: handling missing search results</p>

    <div *ngIf="searchResults"><!-- <div class="col-md-3" ng-show="entity.entityId"> -->
        <!-- ngIf: user.groupID >= 600 && entity.categoryKey -->
        <div class="row">
            <div class="col-md-12">
                <!-- ngIf: resultSize -->
                <div ng-if="resultSize" class="ng-scope">
                    <!-- ngIf: currentQuery.q || currentQuery.facets.length > 0 -->
                    <div ng-if="currentQuery.q || currentQuery.facets.length > 0" class="panel panel-default ng-scope">



                        <!-- PANEL HEADING -->
                        <div class="panel-heading">
                            <a class="btn btn-xs pull-right btn-primary" (click)="goBackToSearchResults()"><span class="glyphicon glyphicon-arrow-left"></span> Zum Suchergebnis</a>
                            <div>
                                <strong class="text-muted uppercase small">Aktuelle Suche</strong>
                                <br>
                                <!-- ngIf: !currentQuery.label -->
                                <span ng-if="!currentQuery.label">{{ searchResults?.query }}</span>
                                <!-- end ngIf: !currentQuery.label --> <!-- ngIf: currentQuery.label -->
                            </div><!-- ngIf: currentQuery.hasFacets() -->
                        </div>



                        <ul class="list-group">


                            <!-- ngIf: prevEntity -->
                            <a *ngIf="previousResource" class="list-group-item text-left" style="height:75px; overflow:hidden" (click)="showResource(previousResource?.obj_id)">
                                <div>
                                    <strong class="text-muted uppercase small ng-binding">
                                        <span class="glyphicon glyphicon-chevron-left" style="color:black"></span> &nbsp; Voriges Ergebnis ({{ shownIndex - 1 }})</strong>
                                </div>
                                <div>
                                    <div class="single-line">
                                        <small class="single-line">{{ previousResource?.value[0] }}</small>
                                        <!-- ngIf: entity.title.length==0 -->
                                    </div>
                                    <div class="single-line">
                                        <small class="text-muted">{{ previousResource?.icontitle }}</small>
                                    </div>
                                </div>
                            </a>
                            <!-- end ngIf: prevEntity -->


                            <li class="list-group-item" ng-hide="nextResourceSearch.size < 2">
                                <strong class="text-muted uppercase small">Angezeigtes Ergebnis</strong>
                                <form ng-submit="goToEntityIndex(currentResourceIndex)" class="ng-pristine ng-valid">
                                    <div class="input-group" [ngClass]="{'has-error':(shownIndex < 1 || shownIndex > searchResultsSubjects?.length)}">
                                        <input id="resourceInfoInput" [(ngModel)]="goToIndex" name="index" size="4" class="form-control input-sm ng-pristine ng-untouched ng-valid ng-not-empty" type="number" min="0" [max]="searchResultsSubjects?.length">
                                        <span class="input-group-addon" style="border-top-right-radius: 3px; border-bottom-right-radius:3px; border-left:0;"> <small>von</small> <strong>{{ searchResultsSubjects?.length }}</strong>
                                        </span>
                                        <span ng-hide="resultIndex == currentResourceIndex || currentResourceIndex < 1 || currentResourceIndex > resultSize" class="input-group-btn ng-hide">
                                            <button class="btn btn-primary btn-sm" [disabled]="goToIndex === shownIndex || goToIndex < 1 || goToIndex > searchResultsSubjects?.length" (click)="showResource(currentResourceIndex)">Gehe zu</button>
                                        </span>
                                    </div>
                                </form>
                            </li>



                            <!-- ngIf: nextResource -->
                            <a *ngIf="nextResource" class="list-group-item text-right" style="height:75px; overflow:hidden" (click)="showResource(nextResource?.obj_id)">
                                <div>
                                    <strong class="text-muted uppercase small">&nbsp; NÃ¤chstes Ergebnis ({{ shownIndex + 1 }}) <span class="glyphicon glyphicon-chevron-right" style="color:black"></span></strong>
                                </div>
                                <div>
                                    <div class="single-line">
                                            <small class="single-line">{{ nextResource?.value[0]  }}</small>
                                            <!-- ngIf: entity.title.length==0 -->
                                    </div>
                                    <div class="single-line">
                                            <small class="text-muted">{{ nextResource?.icontitle }}</small>
                                    </div>
                                </div>
                            </a><!-- end ngIf: nextResource -->



                        </ul>
                    </div><!-- end ngIf: currentQuery.q || currentQuery.facets.length > 0 -->
                </div><!-- end ngIf: resultSize -->
            </div>
        </div><!-- ngIf: entity.places -->

        <div ng-if="entity.places" class="ng-scope"></div><!-- end ngIf: entity.places -->
    </div><!-- ngIf: user.username -->

</div>
