<div class="col-md-3 sidenav sidenav-left text-center">
    <p class="todo">TODO: resource-info.component.html</p>
    <p class="todo">TODO: handling missing search results</p>

    <div *ngIf="resourceInfo"><!-- <div class="col-md-3" ng-show="entity.entityId"> -->
        <!-- ngIf: user.groupID >= 600 && entity.categoryKey -->
        <div class="row">
            <div class="col-md-12">
                <div *ngIf="resourceInfo?.searchResults?.size">
                    <!-- ngIf: currentQuery.q || currentQuery.facets.length > 0 -->
                    <div ng-if="currentQuery.q || currentQuery.facets.length > 0" class="panel panel-default">



                        <!-- PANEL HEADING -->
                        <div class="panel-heading">
                            <a class="btn btn-xs pull-right btn-primary" (click)="navigateToSearchResults()"><span class="glyphicon glyphicon-arrow-left"></span> Zum Suchergebnis</a>
                            <div>
                                <strong class="text-muted uppercase small">Aktuelle Suche</strong>
                                <br>
                                <span>{{ resourceInfo?.searchResults?.query }}</span>
                            </div>
                        </div>



                        <ul class="list-group">

                            <!-- previous resource -->
                            <a *ngIf="resourceInfo?.resources?.previous; let previous" class="list-group-item text-left" style="height:75px; overflow:hidden" (click)="navigateToResource(previous?.id)">
                                <div>
                                    <strong class="text-muted uppercase small ng-binding">
                                        <span class="glyphicon glyphicon-chevron-left" style="color:black"></span> &nbsp; Vorheriges Ergebnis ({{ previous?.displayIndex }})</strong>
                                </div>
                                <div>
                                    <div class="single-line">
                                        <small class="single-line">{{ previous?.title }}</small>
                                    </div>
                                    <div class="single-line">
                                        <small class="text-muted">{{ previous?.subtitle }}</small>
                                    </div>
                                </div>
                            </a>

                            <!-- current resource -->
                            <li class="list-group-item" *ngIf="resourceInfo?.resources?.current; let current">
                                <strong class="text-muted uppercase small">Angezeigtes Ergebnis</strong>

                                <form class="ng-pristine ng-valid">

                                    <div class="input-group" [ngClass]="{'has-error':(current?.displayIndex < 1 || current?.displayIndex > resultSize)}">
                                        <input id="resourceInfoInput" [(ngModel)]="goToIndex" name="index" size="4" class="form-control input-sm ng-pristine ng-untouched ng-valid ng-not-empty" type="number" min="0" [max]="resultSize">
                                        <span class="input-group-addon" style="border-top-right-radius: 3px; border-bottom-right-radius:3px; border-left:0;"> <small>von</small> <strong>{{ resultSize }}</strong>
                                        </span>
                                        <span ng-hide="goToIndex === current?.displayIndex || goToIndex < 1 || goToIndex > resultSize" class="input-group-btn ng-hide">
                                            <button class="btn btn-primary btn-sm" [disabled]="goToIndex === current?.displayIndex || goToIndex < 1 || goToIndex > resultSize" (click)="findResourceByIndex(goToIndex)">Gehe zu</button>
                                        </span>
                                    </div>
                                </form>
                            </li>



                            <!-- next resource -->
                            <a *ngIf="resourceInfo?.resources?.next; let next" class="list-group-item text-right" style="height:75px; overflow:hidden" (click)="navigateToResource(next?.id)">
                                <div>
                                    <strong class="text-muted uppercase small">&nbsp; NÃ¤chstes Ergebnis ({{ next?.displayIndex }}) <span class="glyphicon glyphicon-chevron-right" style="color:black"></span></strong>
                                </div>
                                <div>
                                    <div class="single-line">
                                            <small class="single-line">{{ next?.title }}</small>
                                            <!-- ngIf: entity.title.length==0 -->
                                    </div>
                                    <div class="single-line">
                                            <small class="text-muted">{{ next?.subtitle }}</small>
                                    </div>
                                </div>
                            </a>



                        </ul>
                    </div><!-- end ngIf: currentQuery.q || currentQuery.facets.length > 0 -->
                </div>
            </div>
        </div><!-- ngIf: entity.places -->

        <div ng-if="entity.places" class="ng-scope"></div><!-- end ngIf: entity.places -->
    </div><!-- ngIf: user.username -->

</div>
